<!-- COMP229 - Fall 2021 - - Sec 09
Group - 13
WEbExpert -->

<%- include ../partials/header.ejs %>

<!-- Content for the Add_Edit page -->
<div class="container">
    <div class="row">
        <div class="offset-md-3 col-md-6">
            <h1><%= title %></h1>

            <form class="form" method="POST">
                <div class="form-group">
                    <input type="hidden"
                        name="id"
                        value="<%= survey._id %>"
                    >
                    <input type="hidden" class="form-control"
                        id="surveyTextField"
                        placeholder="Enter the Title"
                        name="Title" 
                        value="<%= survey.Title %>"
                        required>
                    <input type="hidden"
                        name="index"
                        value="<%= index %>"
                    >
                </div>
                <br />
                <div class="form-group">
                    <label for="surveyTextField">Questions</label>
                    <input type="text" class="form-control"
                        id="surveyTextField"
                        placeholder="Enter the Questions"
                        name="Questions"
                        value="<%= survey.Questions[index] %>"
                        >
                </div>
                <br />
                <br />
                <label for="surveyTextField">Choices</label>
                <div id="divChoices" class="form-group">
                    <% for(let i = 0; i < survey.Choices[index].length; i++) { %>
                    <input type="text" class="form-control"
                        id="surveyTextField"
                        placeholder="Enter the Questions"
                        name="Choices"
                        value="<%= survey.Choices[index][i]%>"
                        >
                    <% } %>
                    <% for(let i = survey.Choices[index].length; i < 10; i++) { %>
                        <input type="text" class="form-control"
                        id="surveyTextField"
                        placeholder="Enter the Questions"
                        name="Choices"
                        value=""
                        style="display: none;"
                        >
                    <% } %>
                </div>
                <br />
                <button id="btn_addChoice" class="btn btn-primary" type="button">
                    Add a choice
                </button>
                <br />
                <br />
                <br />


                <button class="btn btn-primary" type="submit" name="btn" value="done">
                    <i class="fas fa-edit"></i> 
                    Save
                </button>

                <a href="/surveys/edit/<%= survey._id %>" class="btn btn-warning" type="submit">
                    <i class="fas fa-undo"></i> 
                    Cancel
                </a>
                
            </form>
        </div>

    </div>
</div>

<%- include ../partials/footer.ejs %>